# day04 ã€Mapã€‘

# çŸ¥è¯†ç‚¹å›é¡¾

- å“ˆå¸Œè¡¨çš„å­˜å‚¨è¿‡ç¨‹(å­˜å–åŸç†)

```java
æ¯å­˜å…¥ä¸€ä¸ªæ–°çš„å…ƒç´ éƒ½è¦èµ°ä»¥ä¸‹äº”æ­¥
(1)è°ƒç”¨å¯¹è±¡çš„hashCode()æ–¹æ³•ï¼Œè·å¾—è¦å­˜å‚¨å…ƒç´ çš„å“ˆå¸Œå€¼ã€‚
(2)å°†å“ˆå¸Œå€¼ä¸è¡¨çš„é•¿åº¦(å³æ•°ç»„çš„é•¿åº¦)è¿›è¡Œæ±‚ä½™è¿ç®—å¾—åˆ°ä¸€ä¸ªæ•´æ•°å€¼ï¼Œè¯¥å€¼å°±æ˜¯æ–°å…ƒç´ è¦å­˜æ”¾çš„ä½ç½®(å³æ˜¯ç´¢å¼•å€¼)ã€‚
  	* å¦‚æœç´¢å¼•å€¼å¯¹åº”çš„ä½ç½®ä¸Šæ²¡æœ‰å­˜å‚¨ä»»ä½•å…ƒç´ ï¼Œåˆ™ç›´æ¥å°†å…ƒç´ å­˜å‚¨åˆ°è¯¥ä½ç½®ä¸Šã€‚
  	* å¦‚æœç´¢å¼•å€¼å¯¹åº”çš„ä½ç½®ä¸Šå·²ç»å­˜å‚¨äº†å…ƒç´ ï¼Œåˆ™æ‰§è¡Œç¬¬3æ­¥ã€‚
(3)éå†è¯¥ä½ç½®ä¸Šçš„æ‰€æœ‰æ—§å…ƒç´ ï¼Œä¾æ¬¡æ¯”è¾ƒæ¯ä¸ªæ—§å…ƒç´ çš„å“ˆå¸Œå€¼å’Œæ–°å…ƒç´ çš„å“ˆå¸Œå€¼æ˜¯å¦ç›¸åŒã€‚
  	* å¦‚æœæœ‰å“ˆå¸Œå€¼ç›¸åŒçš„æ—§å…ƒç´ ï¼Œåˆ™æ‰§è¡Œç¬¬4æ­¥ã€‚
  	* å¦‚æœæ²¡æœ‰å“ˆå¸Œå€¼ç›¸åŒçš„æ—§å…ƒç´ ï¼Œåˆ™æ‰§è¡Œç¬¬5æ­¥ã€‚
(4)æ¯”è¾ƒæ–°å…ƒç´ å’Œæ—§å…ƒç´ çš„åœ°å€æ˜¯å¦ç›¸åŒ
  	* å¦‚æœåœ°å€å€¼ç›¸åŒåˆ™ç”¨æ–°çš„å…ƒç´ æ›¿æ¢è€çš„å…ƒç´ ã€‚åœæ­¢æ¯”è¾ƒã€‚
  	* å¦‚æœåœ°å€å€¼ä¸åŒï¼Œåˆ™æ–°å…ƒç´ è°ƒç”¨equalsæ–¹æ³•ä¸æ—§å…ƒç´ æ¯”è¾ƒå†…å®¹æ˜¯å¦ç›¸åŒã€‚
    	* å¦‚æœè¿”å›trueï¼Œç”¨æ–°çš„å…ƒç´ æ›¿æ¢è€çš„å…ƒç´ ï¼Œåœæ­¢æ¯”è¾ƒã€‚
    	* å¦‚æœè¿”å›falseï¼Œåˆ™å›åˆ°ç¬¬3æ­¥ç»§ç»­éå†ä¸‹ä¸€ä¸ªæ—§å…ƒç´ ã€‚
(5)è¯´æ˜æ²¡æœ‰é‡å¤ï¼Œåˆ™å°†æ–°å…ƒç´ å­˜æ”¾åˆ°è¯¥ä½ç½®ä¸Šå¹¶è®©æ–°å…ƒç´ è®°ä½ä¹‹å‰è¯¥ä½ç½®çš„å…ƒç´ ã€‚
```

## ä¸»è¦å†…å®¹

-  Mapé›†åˆ
-  å¼€å‘ä¸­é›†åˆç”¨çš„æœ€å¤šçš„å°±ä¸¤ä¸ªï¼š Listé›†åˆï¼ŒMapé›†åˆ 
-  List<Student> stus = new ArrayList<>(); // æœ‰åº å¯é‡å¤ æœ‰ç´¢å¼• æŸ¥è¯¢å— å¢åˆ æ…¢ï¼
-  Map<String,Student> maps = new HashMap<>(); 

## æ•™å­¦ç›®æ ‡

- [ ] èƒ½å¤Ÿè¯´å‡ºMapé›†åˆç‰¹ç‚¹
- [ ] ä½¿ç”¨Mapé›†åˆæ·»åŠ æ–¹æ³•ä¿å­˜æ•°æ®
- [ ] ä½¿ç”¨â€é”®æ‰¾å€¼â€çš„æ–¹å¼éå†Mapé›†åˆ
- [ ] ä½¿ç”¨â€é”®å€¼å¯¹â€çš„æ–¹å¼éå†Mapé›†åˆ
- [ ] èƒ½å¤Ÿä½¿ç”¨HashMapå­˜å‚¨è‡ªå®šä¹‰é”®å€¼å¯¹çš„æ•°æ®
- [ ] èƒ½å¤Ÿä½¿ç”¨HashMapç¼–å†™æ–—åœ°ä¸»æ´—ç‰Œå‘ç‰Œæ¡ˆä¾‹

# ç¬¬ä¸€ç«  Mapé›†åˆ

## 1.1 æ¦‚è¿°

```java
Mapé›†åˆæ¦‚è¿°
    * Mapæ˜¯ä¸€ä¸ªæ¥å£ï¼Œåªè¦æ˜¯å®ç°äº†è¯¥æ¥å£çš„ç±»éƒ½æ˜¯åŒåˆ—é›†åˆã€‚
    * Keyï¼šé”®  Valueï¼šå€¼
    * åŒåˆ—é›†åˆæ¯æ¬¡å­˜å‚¨å…ƒç´ éƒ½éœ€è¦å­˜å‚¨ä¸¤ä¸ªå…ƒç´ ï¼Œä¸€ä¸ªå…ƒç´ ç§°ä¸ºé”®ï¼Œä¸€ä¸ªå…ƒç´ ç§°ä¸ºå€¼ï¼Œç®€ç§°ä¸ºé”®å€¼å¯¹ã€‚
    * ç‰¹ç‚¹ï¼šé”®å¿…é¡»å”¯ä¸€ï¼Œå€¼å¯ä»¥é‡å¤ã€‚é”®å€¼å¯¹å…³ç³»åˆç§°ä¸ºæ˜ å°„å…³ç³»
```

## 1.2  Mapå¸¸ç”¨å­ç±»

```java
Mapæ¥å£å¸¸ç”¨å®ç°ç±»
    * HashMap
    * LinkedHashMap
    * Hashtable(è¿‡æ—¶äº†)
```

## 1.3  Mapæ¥å£ä¸­çš„å¸¸ç”¨æ–¹æ³•

```java
* V put(K key, V value)
    * å­˜å‚¨é”®å€¼å¯¹
    * å¦‚æœé”®å­˜åœ¨ï¼Œåˆ™ä½¿ç”¨æ–°å€¼æ›¿æ¢æ—§å€¼ï¼Œè¿”å›æ—§å€¼ã€‚
    * å¦‚æœé”®ä¸å­˜åœ¨ï¼Œåˆ™ç›´æ¥å­˜å‚¨ï¼Œè¿”å›null

* V get(Object key)
    * æ ¹æ®é”®è·å¾—å¯¹åº”çš„å€¼,å¦‚æœé”®ä¸å­˜åœ¨ï¼Œåˆ™è¿”å›null

* V remove(Object key)
    * æ ¹æ®é”®åˆ é™¤é”®å€¼å¯¹
    * è¿”å›é”®å¯¹åº”çš„å€¼
* int size();
    * è·å¾—é”®å€¼å¯¹çš„å¯¹æ•°
* void	clear()
    * æ¸…ç©ºé›†åˆ

* boolean containsKey(Object key)
    * åˆ¤æ–­é›†åˆä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„é”®ï¼Œå¦‚æœåŒ…å«è¿”å›trueï¼Œå¦åˆ™false
* boolean isEmpty()
    * åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©ºï¼Œä¸ºç©ºè¿”å›trueï¼Œå¦åˆ™false
```

- ç¤ºä¾‹ä»£ç 

```java
public class MapDemo01 {
    public static void main(String[] args){
        // åˆ›å»ºé›†åˆå¯¹è±¡
        // é”®  å€¼
        Map<String,String> map = new HashMap<>();
        // å­˜å‚¨é”®å€¼å¯¹
        String name = map.put("name","jack");
        System.out.println(name); // null
        name = map.put("name","rose");
        System.out.println(name); // jack
        map.put("gender","ç”·");
        map.put("age","30");

        System.out.println(map);

        // æ ¹æ®é”®è·å¾—å¯¹åº”çš„å€¼
        name = map.get("name");
        System.out.println(name); // rose

        // æ ¹æ®é”®åˆ é™¤é”®å€¼å¯¹
        System.out.println(map.remove("name")); // rose
        System.out.println(map);

        // è·å¾—é”®å€¼å¯¹å¯¹æ•°
        System.out.println(map.size()); // 2

        // åˆ¤æ–­æ˜¯å¦åŒ…å«nameé”®
        System.out.println(map.containsKey("gender")); // true

        // æ¸…ç©ºé›†åˆ
        map.clear();
        System.out.println(map);

        // åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©º
        System.out.println(map.isEmpty()); // true
    }
}
```

## 1.4   Mapé›†åˆéå†é”®æ‰¾å€¼æ–¹å¼

~~~java
/**
    Mapé›†åˆéå†ä¸èƒ½ç›´æ¥ä½¿ç”¨å¢å¼ºforæˆ–è¿­ä»£å™¨éå†ã€‚

    Mapé›†åˆçš„éå†æ–¹å¼1ï¼šé€šè¿‡é”®æ‰¾å€¼çš„æ–¹å¼
        * è°ƒç”¨Mapé›†åˆçš„keySetæ–¹æ³•è·å¾—é”®é›†åˆ
        * ä½¿ç”¨å¢å¼ºforæˆ–è¿­ä»£å™¨éå†é”®é›†åˆ
        * è°ƒç”¨Mapé›†åˆçš„getæ–¹æ³•æ ¹æ®é”®è·å¾—å¯¹åº”çš„å€¼

    Mapé›†åˆä¸éå†ç›¸å…³çš„æ–¹æ³•
        *  Set<K> keySet() è·å¾—é”®çš„é›†åˆ
 */
public class MapDemo02 {
    public static void main(String[] args){
        // åˆ›å»ºMapé›†åˆå¯¹è±¡
        HashMap<Integer,String> map = new HashMap<>();
        // å­˜å‚¨é”®å€¼å¯¹
        map.put(1,"å¼ ä¸‰");
        map.put(2,"æå››");
        map.put(3,"è€ç‹");
        map.put(4,"èµµå…­");

        // è·å¾—é”®é›†åˆ
        Set<Integer> keySet = map.keySet();
        // ä½¿ç”¨å¢å¼ºforéå†é”®é›†åˆ
        for(Integer key:keySet){
            // æ ¹æ®é”®è·å¾—å€¼
           String value =  map.get(key);
           System.out.println(key+"="+value);
        }
        System.out.println("-------------");
        //  ä½¿ç”¨è¿­ä»£å™¨éå†é”®é›†åˆ
        Iterator<Integer> it = keySet.iterator();
        while (it.hasNext()){
            // è·å¾—é”®
            Integer key = it.next();
            // æ ¹æ®é”®è·å¾—å€¼
            String value = map.get(key);
            System.out.println(key+"="+value);
        }
    }
}
~~~

## 1.5  Entryé”®å€¼å¯¹å¯¹è±¡

```java
Entryå¯¹è±¡çš„æ¦‚è¿°
    * æ¯ä¸€ä¸ªé”®å€¼å¯¹éƒ½å°è£…æˆä¸€ä¸ªEntryå¯¹è±¡ã€‚
    * Entryå¯¹è±¡åˆç§°ä¸ºé”®å€¼å¯¹å¯¹è±¡ã€‚

Entryå¯¹è±¡å¸¸ç”¨æ–¹æ³•
    * K getKey() è·å¾—é”®
    * V getValue() è·å¾—å€¼
    
Mapé›†åˆä¸éå†ç›¸å…³çš„æ–¹æ³•
    * Set<Map.Entry<K,V>> entrySet() è·å¾—Entryå¯¹è±¡çš„é›†åˆ
```

![](Entryå¯¹è±¡.png)

## 1.6 Mapé›†åˆéå†é”®å€¼å¯¹æ–¹å¼

~~~java
/**
Mapé›†åˆçš„éå†æ–¹å¼2ï¼šé€šè¿‡é”®å€¼å¯¹å¯¹è±¡éå†
    * è°ƒç”¨Mapé›†åˆçš„entrySetæ–¹æ³•è·å¾—Entryå¯¹è±¡é›†åˆ
    * ä½¿ç”¨å¢å¼ºforæˆ–è¿­ä»£å™¨éå†Entryå¯¹è±¡é›†åˆ
    * è°ƒç”¨Entryå¯¹è±¡çš„getKeyå’ŒgetValueæ–¹æ³•è·å¾—é”®å’Œå€¼ã€‚

Mapé›†åˆä¸éå†ç›¸å…³çš„æ–¹æ³•
    * Set<Map.Entry<K,V>> entrySet() è·å¾—Entryå¯¹è±¡çš„é›†åˆ
 */
public class MapDemo03 {
    public static void main(String[] args){
        // åˆ›å»ºMapé›†åˆå¯¹è±¡
        HashMap<Integer,String> map = new HashMap<>();
        // å­˜å‚¨é”®å€¼å¯¹
        map.put(1,"å¼ ä¸‰");
        map.put(2,"æå››");
        map.put(3,"è€ç‹");
        map.put(4,"èµµå…­");

        // è·å¾—Entryå¯¹è±¡çš„é›†åˆ
        Set<Entry<Integer,String>> entrySet =  map.entrySet();
        // ä½¿ç”¨å¢å¼ºforéå†é›†åˆ
        for(Entry<Integer,String> entry:entrySet ){
            // è°ƒç”¨æ–¹æ³•è·å¾—é”®å’Œå€¼
            Integer key = entry.getKey();
            String value = entry.getValue();
            System.out.println(key+"="+value);
        }
        System.out.println("-------------------");
        // ä½¿ç”¨è¿­ä»£å™¨éå†
        Iterator<Entry<Integer,String>> it =  entrySet.iterator();
        while (it.hasNext()){
            // è·å¾—Entryå¯¹è±¡
            Entry<Integer, String> entry = it.next();
            System.out.println(entry.getKey()+"="+ entry.getValue());
        }
    }
}
~~~

## 1.7  HashMapå­˜å‚¨è‡ªå®šä¹‰ç±»å‹é”®å€¼

ç»ƒä¹ ï¼šæ¯ä½å­¦ç”Ÿï¼ˆå§“åï¼Œå¹´é¾„ï¼‰éƒ½æœ‰è‡ªå·±çš„å®¶åº­ä½å€ã€‚é‚£ä¹ˆï¼Œæ—¢ç„¶æœ‰å¯¹åº”å…³ç³»ï¼Œåˆ™å°†å­¦ç”Ÿå¯¹è±¡å’Œå®¶åº­ä½å€å­˜å‚¨åˆ°mapé›†åˆä¸­ã€‚å­¦ç”Ÿä½œä¸ºé”®, å®¶åº­ä½å€ä½œä¸ºå€¼ã€‚

> æ³¨æ„ï¼Œå­¦ç”Ÿå§“åç›¸åŒå¹¶ä¸”å¹´é¾„ç›¸åŒè§†ä¸ºåŒä¸€åå­¦ç”Ÿã€‚
>

ç¼–å†™å­¦ç”Ÿç±»ï¼š

~~~java
public class Student  {
    private String name;
    private int age;

    public Student(String name, int age) {
        this.name = name;
        this.age = age;
    }

    public Student() {
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }



    @Override
    public String toString() {
        return "Student{" +
                "name='" + name + '\'' +
                ", age=" + age +
                '}';
    }

    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;
        Student student = (Student) o;
        return age == student.age &&
                Objects.equals(name, student.name);
    }

    @Override
    public int hashCode() {

        return Objects.hash(name, age);
    }
}
~~~

ç¼–å†™æµ‹è¯•ç±»ï¼š

~~~java 
/*
  ä½¿ç”¨HashMapå­˜å‚¨è‡ªå®šä¹‰å¯¹è±¡
    æ¯ä½å­¦ç”Ÿï¼ˆå§“åï¼Œå¹´é¾„ï¼‰éƒ½æœ‰è‡ªå·±çš„å®¶åº­ä½å€ã€‚é‚£ä¹ˆï¼Œæ—¢ç„¶æœ‰å¯¹åº”å…³ç³»ï¼Œ
    åˆ™å°†å­¦ç”Ÿå¯¹è±¡å’Œå®¶åº­ä½å€å­˜å‚¨åˆ°mapé›†åˆä¸­ã€‚å­¦ç”Ÿä½œä¸ºé”®, å®¶åº­ä½å€ä½œä¸ºå€¼ã€‚
    æ³¨æ„ï¼Œå­¦ç”Ÿå§“åç›¸åŒå¹¶ä¸”å¹´é¾„ç›¸åŒè§†ä¸ºåŒä¸€åå­¦ç”Ÿã€‚

    æ³¨æ„äº‹é¡¹
        ä½¿ç”¨åŒåˆ—é›†åˆå­˜å‚¨è‡ªå®šä¹‰å¯¹è±¡ï¼Œå¦‚æœè‡ªå®šä¹‰å¯¹è±¡ä½œä¸ºé”®ï¼Œéœ€è¦å®ç°å»é‡æ•ˆæœï¼Œ
    è‡ªå®šä¹‰ç±»éœ€è¦é‡å†™hashCodeå’Œequalsæ–¹æ³•
 */
public class MapDemo04 {
    public static void main(String[] args){
        // åˆ›å»ºMapé›†åˆå¯¹è±¡
        HashMap<Student,String> map = new HashMap<>();

        map.put(new Student("å°æ³½",20),"æ—¥æœ¬"); // 2134253 % 16 = 2
        map.put(new Student("å°è‹",18),"ä¸œè"); // 4567866 % 16 = 3
        map.put(new Student("å°ç‰ç‰",25),"å¹¿è¥¿");  // 67898765 % 16 = 4
        map.put(new Student("å°æ³½",20),"ç æµ·"); // 8987653 % 16 = 2

        // éå†è¾“å‡º
        Set<Student> keySet =  map.keySet();
        for (Student stu: keySet) {
            System.out.println(stu+"="+map.get(stu));
        }
    }
}
~~~

* å½“ç»™HashMapä¸­å­˜æ”¾è‡ªå®šä¹‰å¯¹è±¡æ—¶ï¼Œå¦‚æœè‡ªå®šä¹‰å¯¹è±¡ä½œä¸ºkeyå­˜åœ¨ï¼Œè¿™æ—¶è¦ä¿è¯å¯¹è±¡å”¯ä¸€ï¼Œå¿…é¡»å¤å†™å¯¹è±¡çš„hashCodeå’Œequalsæ–¹æ³•(å¦‚æœå¿˜è®°ï¼Œè¯·å›é¡¾HashSetå­˜æ”¾è‡ªå®šä¹‰å¯¹è±¡)ã€‚
* å¦‚æœè¦ä¿è¯mapä¸­å­˜æ”¾çš„keyå’Œå–å‡ºçš„é¡ºåºä¸€è‡´ï¼Œå¯ä»¥ä½¿ç”¨`java.util.LinkedHashMap`é›†åˆæ¥å­˜æ”¾ã€‚

## 1.8   LinkedHashMap

~~~java
/**
     LinkedHashMapæ¦‚è¿°
        * ç»§æ‰¿HashMapï¼Œèƒ½å¤Ÿä¿è¯å­˜å–æœ‰é¡ºåºã€‚
        * åº•å±‚æ˜¯å“ˆå¸Œè¡¨+é“¾è¡¨
 */
public class MapDemo05 {
    public static void main(String[] args){
        // åˆ›å»ºé›†åˆå¯¹è±¡
        LinkedHashMap<String,String> map = new LinkedHashMap<>();
        map.put("xxx","ooo");
        map.put("zzz","yyy");
        map.put("abc","fdasf");
        map.put("5467","ooo");
        map.put("fdsf6789","ooo");
        System.out.println(map);
    }
}
~~~

## 1.9 Mapé›†åˆç»ƒä¹ 

### 1.9.1 æ¡ˆä¾‹01

**éœ€æ±‚ï¼š**

ä»é”®ç›˜ä¸­å½•å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼šè®¡ç®—ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æ¯ä¸ªå­—ç¬¦å‡ºç°æ¬¡æ•°ã€‚

**ä»£ç ï¼š**

~~~java
public class MapDemo02 {
    public static void main(String[] args){
        // åˆ›å»ºé”®ç›˜å½•å…¥å¯¹è±¡
        Scanner sc = new Scanner(System.in);
        System.out.println("è¯·è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²:");
        // æ¥æ”¶ç”¨æˆ·è¾“å…¥çš„å­—ç¬¦ä¸²: aaabbcc
        String line = sc.nextLine();

        // åˆ›å»ºMapé›†åˆå¯¹è±¡ é”®ï¼šCharacter å€¼ï¼šInteger(å­—ç¬¦å‡ºç°çš„æ¬¡æ•°)
        Map<Character,Integer> map = new HashMap<>();
        // éå†å­—ç¬¦ä¸²ï¼šaaabbcc
        for(int index = 0; index < line.length(); index++){
            // æ ¹æ®ç´¢å¼•è·å¾—å¯¹åº”çš„å­—ç¬¦
            char ch = line.charAt(index); // a
            // int count = null.intValue()
            // è·å¾—é”®è·å¾—å¯¹åº”å€¼
            Integer count = map.get(ch); // null
            // åˆ¤æ–­countæ˜¯å¦ä¸ºnullï¼Œä¸ºnullè¡¨ç¤ºå­—ç¬¦chæ˜¯ç¬¬ä¸€æ¬¡å‡ºç°
            if (count == null){
                map.put(ch,1);
            } else {
                map.put(ch,count+1);
            }
        }
        // è·å¾—é”®é›†åˆ
        Set<Character> keySet = map.keySet();
        // ä½¿ç”¨å¢å¼ºforéå†
        for(Character ch:keySet){
            System.out.println(ch+"="+map.get(ch));
        }
    }
}
~~~

### 1.9.2 æ¡ˆä¾‹02

**éœ€æ±‚**

	æœ‰å››ç§æ°´æœ(è‹¹æœï¼Œé¦™è•‰ï¼Œè¥¿ç“œï¼Œæ©˜å­)

1. ç»™æ¯ç§æ°´æœè®¾å®šä¸€ä¸ªå•†å“å·ï¼Œå•†å“å·æ˜¯8ä½0-9çš„éšæœºæ•°ï¼Œå•†å“å·ç ä¸èƒ½é‡å¤ã€‚

2. æ ¹æ®å•†å“å·æŸ¥è¯¢å¯¹åº”çš„å•†å“ã€‚

   å¦‚æœæŸ¥ä¸åˆ°è¾“å‡ºï¼šâ€œæŸ¥æ— æ­¤å•†å“â€

   å¦‚æœèƒ½æŸ¥åˆ°æ‰“å°ï¼šâ€æ ¹æ®å•†å“å·ï¼š12345678ï¼ŒæŸ¥è¯¢åˆ°å¯¹åº”çš„å•†å“ä¸ºï¼šè¥¿ç“œâ€

**ä»£ç å®ç°**

```java
public class MapDemo03 {
    public static void main(String[] args){
        // åˆ›å»ºé›†åˆå­˜å‚¨æ°´æœ
        String[] friuts = {"ğŸ","ğŸŒ","ğŸ‰","ğŸŠ"};
        // åˆ›å»ºéšæœºæ•°å¯¹è±¡
        Random r = new Random();

        // åˆ›å»ºMapé›†åˆå­˜å‚¨å•†å“å·å’Œæ°´æœåå¯¹åº”å…³ç³»
        // é”®ï¼šå•†å“å·  å€¼ï¼šæ°´æœå
        Map<String,String> map = new HashMap<>();
        for (int j = 0; j < friuts.length ; j++) { // j == 1
             // åˆ›å»ºå¯å˜å­—ç¬¦ä¸²
            StringBuilder sb = new StringBuilder();
            for (int i = 0; i < 8 ; i++) {
                // éšæœºäº§ç”Ÿä¸€ä¸ª0åˆ°9çš„æ•°å­—
                int num = r.nextInt(10); // 0åˆ°9
                // å°†æ•°å­—æ‹¼æ¥åˆ°å­—ç¬¦ä¸²ä¸­
                sb.append(num);
            }
            // 07114421
            // åˆ¤æ–­å•†å“å·æ˜¯å¦å·²ç»å­˜åœ¨
            if(map.containsKey(sb.toString())) {
                j--;
                continue;
            }
            // å­˜å‚¨é”®å€¼å¯¹
            map.put(sb.toString(),friuts[j]);
            // 07114421 ==> ğŸ
        }
        System.out.println(map);
        // åˆ›å»ºé”®ç›˜å½•å…¥å¯¹è±¡
        Scanner sc = new Scanner(System.in);
        System.out.println("è¯·è¾“å…¥ä¸€ä¸ªå•†å“å·:");
        // æ¥æ”¶ç”¨æˆ·è¾“å…¥çš„å•†å“å·
        String productNo = sc.nextLine();
        // æ ¹æ®å•†å“å·è·å¾—æ°´æœå
        String name = map.get(productNo);
        if (name == null) {
            System.out.println("æŸ¥æ— æ­¤å•†å“");
        } else {
            System.out.println("æ ¹æ®å•†å“å·ï¼š"+productNo+"ï¼ŒæŸ¥è¯¢åˆ°å¯¹åº”çš„å•†å“ä¸ºï¼š"+name);
        }
    }
}
```

### 1.9.3 æ¡ˆä¾‹03

**éœ€æ±‚**

ä¼ æ™ºæ’­å®¢åŒ…å«2ä¸ªç­çº§ï¼šJavaåŸºç¡€ç­ï¼ŒJavaå°±ä¸šç­

JavaåŸºç¡€ç­

	001 ææ™¨

	002 èŒƒå†°å†°

Javaå°±ä¸šç­

	001 é©¬äº‘

	002   é©¬åŒ–è…¾

ä½¿ç”¨HashMapé›†åˆå­˜å‚¨ä»¥ä¸Šç­çº§çš„å­¦ç”Ÿä¿¡æ¯ï¼Œå¹¶å®Œæˆä»¥ä¸‹ä¸¤ä¸ªéœ€æ±‚

1. ä½¿ç”¨keySetå’Œå¢å¼ºforéå†å‡ºé‡Œé¢çš„å…ƒç´ 
2. ä½¿ç”¨entrySetå’Œè¿­ä»£å™¨éå†å‡ºé‡Œé¢çš„å…ƒç´ 

**ä»£ç å®ç°**

```java
public class MapDemo04 {
    public static void main(String[] args){
        // åˆ›å»ºåŸºç¡€ç­ç­çº§é›†åˆ
        Map<String,String> baseClass = new HashMap<>();
        // é”®ï¼šå­¦å·  å€¼ï¼šå­¦ç”Ÿå§“å
        baseClass.put("001","ææ™¨");
        baseClass.put("002","èŒƒå†°å†°");

        // åˆ›å»ºå°±ä¸šç­ç­çº§é›†åˆ
        // é”®ï¼šå­¦å·  å€¼ï¼šå­¦ç”Ÿå§“å
        Map<String,String> jyClass = new HashMap<>();
        jyClass.put("001","é©¬äº‘");
        jyClass.put("002","é©¬åŒ–è…¾");

        // åˆ›å»ºç­çº§é›†åˆå­˜å‚¨æ‰€æœ‰çš„ç­çº§ä¿¡æ¯
        // é”®ï¼šç­çº§åç§°  å€¼ï¼šç­çº§é›†åˆ
        Map<String,Map<String,String>> classes = new HashMap<>();
        // å­˜å‚¨ç­çº§é›†åˆ
        classes.put("JavaåŸºç¡€ç­",baseClass);
        classes.put("Javaå°±ä¸šç­",jyClass);

        // é€šè¿‡keySetè·å¾—é”®é›†åˆ
        Set<String> classNames = classes.keySet();
        // ä½¿ç”¨å¢å¼ºforéå†ç­çº§åç§°é›†åˆ
        for(String className:classNames){
            System.out.println(className);
            // æ ¹æ®ç­çº§åç§°è·å¾—å¯¹åº”çš„ç­çº§é›†åˆ
            Map<String,String> clazz =  classes.get(className);
            // é€šè¿‡entrySetæ–¹æ³•è·å¾—Entryå¯¹è±¡çš„é›†åˆ
            Set<Entry<String,String>> entrySet =  clazz.entrySet();
            // ä½¿ç”¨è¿­ä»£å™¨éå†Entryå¯¹è±¡é›†åˆ
            Iterator<Entry<String,String>> it =  entrySet.iterator();
            while (it.hasNext()){
                // è·å¾—æ¯ä¸€ä¸ªEntryå¯¹è±¡
                Entry<String,String> entry = it.next();
                // è·å¾—é”®å’Œå€¼ï¼šé”®ï¼šå­¦å·  å€¼ï¼šå­¦ç”Ÿå§“å
                String key = entry.getKey();
                String value = entry.getValue();
                System.out.println("\t"+ key+"="+value);
            }
        }
    }
}
```

# ç¬¬äºŒç«   æ¨¡æ‹Ÿæ–—åœ°ä¸»æ´—ç‰Œå‘ç‰Œ

## 2.1 æ¡ˆä¾‹ä»‹ç»

æŒ‰ç…§æ–—åœ°ä¸»çš„è§„åˆ™ï¼Œå®Œæˆæ´—ç‰Œå‘ç‰Œçš„åŠ¨ä½œã€‚

![](img\æ–—åœ°ä¸».png)

å…·ä½“è§„åˆ™ï¼š

1. ç»„è£…54å¼ æ‰‘å…‹ç‰Œå°†
2. 54å¼ ç‰Œé¡ºåºæ‰“ä¹±
3. ä¸‰ä¸ªç©å®¶å‚ä¸æ¸¸æˆï¼Œä¸‰äººäº¤æ›¿æ‘¸ç‰Œï¼Œæ¯äºº17å¼ ç‰Œï¼Œæœ€åä¸‰å¼ ç•™ä½œåº•ç‰Œã€‚
4. æŸ¥çœ‹ä¸‰äººå„è‡ªæ‰‹ä¸­çš„ç‰Œï¼ˆæŒ‰ç…§ç‰Œçš„å¤§å°æ’åºï¼‰ã€åº•ç‰Œ

> è§„åˆ™ï¼šæ‰‹ä¸­æ‰‘å…‹ç‰Œä»å¤§åˆ°å°çš„æ‘†æ”¾é¡ºåºï¼šå¤§ç‹,å°ç‹,2,A,K,Q,J,10,9,8,7,6,5,4,3
>

## 2.2 æ¡ˆä¾‹éœ€æ±‚åˆ†æ

1.  å‡†å¤‡ç‰Œï¼š


å®Œæˆæ•°å­—ä¸çº¸ç‰Œçš„æ˜ å°„å…³ç³»ï¼š

ä½¿ç”¨åŒåˆ—Map(HashMap)é›†åˆï¼Œå®Œæˆä¸€ä¸ªæ•°å­—ä¸å­—ç¬¦ä¸²çº¸ç‰Œçš„å¯¹åº”å…³ç³»(ç›¸å½“äºä¸€ä¸ªå­—å…¸)ã€‚

1.  æ´—ç‰Œï¼š

é€šè¿‡æ•°å­—å®Œæˆæ´—ç‰Œå‘ç‰Œ

1.  å‘ç‰Œï¼š

å°†æ¯ä¸ªäººä»¥åŠåº•ç‰Œè®¾è®¡ä¸ºArrayList<String>,å°†æœ€å3å¼ ç‰Œç›´æ¥å­˜æ”¾äºåº•ç‰Œï¼Œå‰©ä½™ç‰Œé€šè¿‡å¯¹3å–æ¨¡ä¾æ¬¡å‘ç‰Œã€‚

å­˜æ”¾çš„è¿‡ç¨‹ä¸­è¦æ±‚æ•°å­—å¤§å°ä¸æ–—åœ°ä¸»è§„åˆ™çš„å¤§å°å¯¹åº”ã€‚

å°†ä»£è¡¨ä¸åŒçº¸ç‰Œçš„æ•°å­—åˆ†é…ç»™ä¸åŒçš„ç©å®¶ä¸åº•ç‰Œã€‚

1.  çœ‹ç‰Œï¼š

é€šè¿‡Mapé›†åˆæ‰¾åˆ°å¯¹åº”å­—ç¬¦å±•ç¤ºã€‚

é€šè¿‡æŸ¥è¯¢çº¸ç‰Œä¸æ•°å­—çš„å¯¹åº”å…³ç³»ï¼Œç”±æ•°å­—è½¬æˆçº¸ç‰Œå­—ç¬¦ä¸²å†è¿›è¡Œå±•ç¤ºã€‚

![](img\æ–—åœ°ä¸»åˆ†æ.png)

## 2.3  å®ç°ä»£ç æ­¥éª¤

~~~java
public class DDZDemo {
    public static void main(String[] args){
        // ç»„ç‰Œï¼šèŠ±è‰²+æ•°å­—
        // å››ç§èŠ±è‰²
        ArrayList<String> colors = new ArrayList<>();
        // æ·»åŠ å››ç§èŠ±è‰²
        Collections.addAll(colors,"â™¦","â™£","â™¥","â™ ");

        // æ•°å­—é›†åˆ
        ArrayList<String> numbers = new ArrayList<>();
        // æ·»åŠ æ•°å­—
        Collections.addAll(numbers,"3","4","5","6","7","8","9","10","J","Q","K","A","2");

        // å®šä¹‰å˜é‡å……å½“ç‰Œçš„ç´¢å¼•
        int index = 0;
        // åˆ›å»ºMapé›†åˆå­˜å‚¨ç‰Œ
        Map<Integer,String> pokers = new HashMap<>();

        for (String number:numbers ) {
            for (String color:colors) {
                // æ‹¼æ¥ç‰Œ
                String poker = color.concat(number);
                // å­˜å‚¨ç‰Œåˆ°é›†åˆä¸­
                pokers.put(index++,poker);
            }
        }
        // æ·»åŠ å¤§å°ç‹
        pokers.put(index++,"ğŸƒ");
        pokers.put(index,"ğŸ¤´");

        System.out.println(pokers);

        /*// è·å¾—é”®é›†åˆ
        Set<Integer> keySet = pokers.keySet();
        // åˆ›å»ºArrayListé›†åˆï¼šç”¨æ¥å­˜å‚¨ç‰Œçš„ç´¢å¼•
        ArrayList<Integer> indexes = new ArrayList<>();
        // å°†æŒ‡å®šçš„é›†åˆçš„æ‰€æœ‰å…ƒç´ æ·»åŠ åˆ°å½“å‰é›†åˆ
        indexes.addAll(keySet);*/


        // åˆ›å»ºArrayListé›†åˆï¼šç”¨æ¥å­˜å‚¨ç‰Œçš„ç´¢å¼•
        ArrayList<Integer> indexes = new ArrayList<>(pokers.keySet());

        // æ´—ç‰Œ
        Collections.shuffle(indexes);

        // å‘ç‰Œ
        ArrayList<Integer> player01 = new ArrayList<>();
        ArrayList<Integer> player02 = new ArrayList<>();
        ArrayList<Integer> player03 = new ArrayList<>();
        ArrayList<Integer> dp = new ArrayList<>();
        for (int i = 0; i < indexes.size(); i++) {
            // è·å¾—ç‰Œçš„ç´¢å¼•
            Integer pokerIndex = indexes.get(i);
            if(i >= 51){
                dp.add(pokerIndex);
            } else if(i % 3 == 0) {
                player01.add(pokerIndex);
            } else if(i % 3 == 1) {
                player02.add(pokerIndex);
            } else  {
                player03.add(pokerIndex);
            }
        }

        // çœ‹ç‰Œ
        lookPoker("å°æ³½",player01,pokers);
        lookPoker("å°è‹",player02,pokers);
        lookPoker("å°æ­¦",player03,pokers);
        lookPoker("åº•ç‰Œ",dp,pokers);

        System.out.println(indexes);
        System.out.println(pokers);


    }

    /**
     * æŸ¥çœ‹ç©å®¶çš„ç‰Œ
     * @param player ç©å®¶é›†åˆ
     *               [20, 33, 3, 21, 24, 31, 11, 27, 46, 14, 6, 43, 9, 44, 38, 0, 23]
     * @param pokers ç‰Œçš„é›†åˆ
     */
    public static void lookPoker(String name,ArrayList<Integer> player,Map<Integer,String> pokers){
        // å¯¹ç©å®¶é›†åˆè¿›è¡Œæ’åºï¼šå‡åº
        Collections.sort(player);
        System.out.print(name+":");
        // éå†ç©å®¶é›†åˆ
        for(Integer key:player){
            // æ ¹æ®é”®è·å¾—ç‰Œ
            String poker = pokers.get(key);
            System.out.print(poker+", ");
        }
        System.out.println();
    }
}
~~~

# ç¬¬ä¸‰ç«   çŸ¥è¯†ç‚¹è¡¥å……

## 3.1  JDK9å¯¹é›†åˆæ·»åŠ å…ƒç´ çš„ä¼˜åŒ–

é€šå¸¸ï¼Œæˆ‘ä»¬åœ¨ä»£ç ä¸­åˆ›å»ºä¸€ä¸ªé›†åˆï¼ˆä¾‹å¦‚ï¼ŒList æˆ– Set ï¼‰ï¼Œå¹¶ç›´æ¥ç”¨ä¸€äº›å…ƒç´ å¡«å……å®ƒã€‚ å®ä¾‹åŒ–é›†åˆï¼Œå‡ ä¸ª addæ–¹æ³• è°ƒç”¨ï¼Œä½¿å¾—ä»£ç é‡å¤ã€‚

```java
public class Demo01 {
    public static void main(String[] args) {
        List<String> list = new ArrayList<>();
        list.add("abc");
        list.add("def");
        list.add("ghi");
        System.out.println(list);
    }
}
```

 Java 9ï¼Œæ·»åŠ äº†å‡ ç§é›†åˆå·¥å‚æ–¹æ³•,æ›´æ–¹ä¾¿åˆ›å»ºå°‘é‡å…ƒç´ çš„é›†åˆã€mapå®ä¾‹ã€‚æ–°çš„Listã€Setã€Mapçš„é™æ€å·¥å‚æ–¹æ³•å¯ä»¥æ›´æ–¹ä¾¿åœ°åˆ›å»ºé›†åˆçš„ä¸å¯å˜å®ä¾‹ã€‚

ä¾‹å­ï¼š

```java
public class HelloJDK9 {  
    public static void main(String[] args) {  
       // Set<String> sets = new HashSet<>();
       // sets.add("a");
       // sets.add("b");
       // sets.add("c");
       
        // ç®€åŒ–å†™æ³•ã€‚JDK 1.9 æ‰å¯ä»¥ä½¿ç”¨ï¼äº¤ç»™å¤§å®¶è¿›å»çœ‹ä¸€ä¸‹ã€‚
        Set<String> sets = Set.of("a","b","c"); 
       //sets.add("c");è¿™é‡Œç¼–è¯‘çš„æ—¶å€™ä¸ä¼šé”™ï¼Œä½†æ˜¯æ‰§è¡Œçš„æ—¶å€™ä¼šæŠ¥é”™ï¼Œå› ä¸ºæ˜¯ä¸å¯å˜çš„é›†åˆ  
        System.out.println(sets);  
        
       //Map<String,Integer> str2 = new HashMap<>();
       //str2.put("a" , 1) ;
       //str2.put("b" , 2 );
      
        Map<String,Integer> str2= Map.of("a",1,"b",2);  
        System.out.println(str2);  
      
        List<String> str3=List.of("a","b");  
        System.out.println(str3);  
    }  
} 
```

éœ€è¦æ³¨æ„ä»¥ä¸‹ä¸¤ç‚¹ï¼š

> 1: of()æ–¹æ³•åªæ˜¯Mapï¼ŒListï¼ŒSetè¿™ä¸‰ä¸ªæ¥å£çš„é™æ€æ–¹æ³•ï¼Œå…¶çˆ¶ç±»æ¥å£å’Œå­ç±»å®ç°å¹¶æ²¡æœ‰è¿™ç±»æ–¹æ³•ï¼Œæ¯”å¦‚    HashSetï¼ŒArrayListï¼›
>
> 2: è¿”å›çš„é›†åˆæ˜¯ä¸å¯å˜çš„ï¼›

 

 

 